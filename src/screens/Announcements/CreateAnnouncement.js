import React, { Component } from 'react';
import { Row, Col } from 'react-bootstrap';
import AnimalsCart from './animalsCart';
import AttributesCart from './attributesCart';
// import Button from '../../components/Button/Button';
import CreateAttribute from './createAttribute';
import TextField from '../../components/TextField/TextField';
import ReactSelect from '../../components/Dropdown/ReactSelect';

class CreateAnnouncement extends Component {
  constructor() {
    super();
    this.state = {
      openCreateAttribute: true
    };
  }

  // toggleCreateAttributeForm = () =>
  //   this.setState({
  //     openCreateAttribute: !this.state.openCreateAttribute
  //   });

  render() {
    const {
      cartData,
      animalOptions,
      attributesCart,
      attributeOptions
    } = this.props;
    return (
      <div>
        <div>
          <Row>
            <Col lg={6} md={6} sm={6} xs={12} className="np-left">
              {this.props.edit ? (
                <div>
                  <TextField
                    onBlur={this.props.announcementName}
                    label="Announcement Name"
                    defaultValue={this.props.anncmentName}
                  />
                </div>
              ) : (
                <div>
                  <TextField
                    onBlur={this.props.announcementName}
                    label="Announcement Name"
                  />
                </div>
              )}
            </Col>
            <Col lg={6} md={6} sm={6} xs={12} className="np-left">
              <div
                className="text-right padding-horizontal"
                style={{ border: '1px solid #ededed', paddingTop: '3px' }}
              >
                {/* <Button
              value="new attribute"
              onClick={this.toggleCreateAttributeForm}
            /> */}
                {this.state.openCreateAttribute ? (
                  <div>
                    <CreateAttribute />
                  </div>
                ) : (
                  ''
                )}
              </div>
            </Col>
          </Row>
          <div>
            <AttributesCart
              cartData={attributesCart}
              incrementAttributeCart={this.props.incrementAttributeCart}
              selectAttribute={this.props.selectAttribute}
              attributeTextOnBlur={this.props.attributeTextOnBlur}
              attributeValuesOnBlur={this.props.attributeValuesOnBlur}
              decrementAttributeCart={this.props.decrementAttributeCart}
              attributeOptions={attributeOptions}
            />
          </div>
          {this.props.edit ? (
            <div>
              <label>Status</label>
              <ReactSelect
                options={[
                  { value: 'PENDING', label: 'PENDING' },
                  { value: 'APPROVED', label: 'APPROVED' },
                  { value: 'REJECTED', label: 'REJECTED' }
                ]}
                name="announcementStatus"
                onChange={e => this.props.selectAnncmntStatus(e)}
                value={this.props.selectedStatusOnEdit}
              />
            </div>
          ) : (
            ''
          )}

          <div>
            <AnimalsCart
              cartData={cartData}
              incrementCart={this.props.incrementCart}
              animalOptions={animalOptions}
              selectSpecie={this.props.selectSpecie}
              textOnBlur={this.props.textOnBlur}
              decrementCart={this.props.decrementCart}
            />
          </div>
        </div>
      </div>
    );
  }
}

export default CreateAnnouncement;
