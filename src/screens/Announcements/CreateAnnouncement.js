import React, { Component } from 'react';

import AnimalsCart from './animalsCart';
import AttributesCart from './attributesCart';
import Button from '../../components/Button/Button';
import CreateAttribute from './createAttribute';

class CreateAnnouncement extends Component {
  constructor() {
    super();
    this.state = {
      openCreateAttribute: false
    };
  }

  toggleCreateAttributeForm = () =>
    this.setState({
      openCreateAttribute: !this.state.openCreateAttribute
    });

  render() {
    const {
      cartData,
      animalOptions,
      attributesCart,
      attributeOptions
    } = this.props;
    return (
      <div>
        <div>
          <AnimalsCart
            cartData={cartData}
            incrementCart={this.props.incrementCart}
            animalOptions={animalOptions}
            selectSpecie={this.props.selectSpecie}
            textOnBlur={this.props.textOnBlur}
            decrementCart={this.props.decrementCart}
          />
        </div>
        <div>
          <div>
            <Button
              value="new attribute"
              onClick={this.toggleCreateAttributeForm}
            />
            {this.state.openCreateAttribute ? (
              <div>
                <CreateAttribute />
              </div>
            ) : (
              ''
            )}
          </div>
          <div>
            <AttributesCart
              cartData={attributesCart}
              incrementAttributeCart={this.props.incrementAttributeCart}
              selectAttribute={this.props.selectAttribute}
              attributeTextOnBlur={this.props.attributeTextOnBlur}
              attributeValuesOnBlur={this.props.attributeValuesOnBlur}
              decrementAttributeCart={this.props.decrementAttributeCart}
              attributeOptions={attributeOptions}
            />
          </div>
        </div>
      </div>
    );
  }
}

export default CreateAnnouncement;
