import React, { Component } from 'react';
import { connect } from 'react-redux';
import TextField from '../../../../components/TextField/TextField';
import ReactSelect from '../../../../components/Dropdown/ReactSelect';
// import Button from '../../../components/Button/Button';
import { generateAnimalSpecieOptions } from '../../../../helpers/reusableFunctions';
import { genderOptions } from '../../../../data/reusableConstants';

class GroupingAnimalsTable extends Component {
  constructor() {
    super();
    this.state = {
      // cartCount: 1,
      selectedAnimals: [],
      quantity: '',
      // warehouse: '',
      weight: '',
      color: '',
      selectedGender: []
    };
  }

  generateCart(cartCount, animalOptions) {
    const tempCount = [];
    for (let i = 0; i < cartCount; i += 1) {
      tempCount.push(i);
    }
    return tempCount.map(count => (
      <tr key={count}>
        <td>
          <ReactSelect
            label="Animal Name"
            options={animalOptions}
            name="animalSpecie"
            onChange={this.props.animalSpeciesToOrder}
          />
        </td>
        <td>
          <TextField
            label="Number of Animals"
            type="number"
            name="quantity"
            onBlur={e => this.props.orderFormInputFieldUpdated(e, count)}
          />
        </td>
        {/* <td>
          <TextField label="Warehouse Name" name="warehouse" onChange={this.inputFieldUpdated} />
        </td> */}
        <td>
          <TextField
            label="Weight"
            type="number"
            name="weight"
            onBlur={e => this.props.orderFormInputFieldUpdated(e, count)}
          />{' '}
          Grams
        </td>
        <td>
          <TextField
            label="Color"
            name="color"
            onBlur={e => this.props.orderFormInputFieldUpdated(e, count)}
          />
        </td>
        <td>
          <ReactSelect
            label="Gender"
            options={genderOptions}
            name="gender"
            onChange={this.props.animalGenderToOrder}
          />
        </td>
      </tr>
    ));
  }

  render() {
    const { cartCount, incrementCart, animalSpecies } = this.props;
    const animalOptions = generateAnimalSpecieOptions(animalSpecies);
    return (
      <div>
        <div>
          <i className="fas fa-plus" onClick={incrementCart} />
        </div>
        <div>
          <table>
            <thead>
              <tr>
                <td>Aimal Name</td>
                <td>Quantity</td>
                {/* <td>Warehouse Name</td> */}
                <td>Weight</td>
                <td>Color</td>
                <td>Gender</td>
              </tr>
            </thead>
            <tbody>{this.generateCart(cartCount, animalOptions)}</tbody>
          </table>
        </div>
      </div>
    );
  }
}

function mapStateToProps(state) {
  return {
    animalSpecies: state.animalsReducer.animalSpecies
  };
}

export default connect(mapStateToProps)(GroupingAnimalsTable);
