import React from 'react';
import EditableTable from '../../../../components/Table/EditableTable';

// const objectId = '_id';

class SubmitStudyResult extends React.Component {
  renderEditable = cellInfo => {
    console.log('in rnder', this.props.dataToEdit.animals);
    return (
      <div
        style={{ backgroundColor: '#fafafa' }}
        contentEditable
        suppressContentEditableWarning
        onBlur={e => {
          const data = [...this.props.dataToEdit.animals];
          data[cellInfo.index][cellInfo.column.id] = e.target.innerHTML;
          // this.setState({ data });
          this.props.updatedData(data);
        }}
        dangerouslySetInnerHTML={{
          __html: this.props.dataToEdit.animals[cellInfo.index][
            cellInfo.column.id
          ]
        }}
      />
    );
  };

  render() {
    const { dataToEdit } = this.props;
    console.log('dataToEdit', dataToEdit);
    return (
      <div>
        <form>
          <EditableTable
            dataToEdit={dataToEdit}
            updatedData={this.updatedData}
            renderEditable={this.renderEditable}
          />
        </form>
      </div>
    );
  }
}

export default SubmitStudyResult;
