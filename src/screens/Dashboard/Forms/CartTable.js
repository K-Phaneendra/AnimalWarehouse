import React from 'react';
import { Row, Col } from 'react-bootstrap';
// import { connect } from 'react-redux';
import TextField from '../../../components/TextField/TextField';
import ReactSelect from '../../../components/Dropdown/ReactSelect';
// import Button from '../../../components/Button/Button';
import { genderOptions } from '../../../data/reusableConstants';

export default props => (
  <div className="cart-table">
    <div className="padding-vertical">
      <i
        className="far fa-plus-square addIcon"
        title="Add"
        onClick={props.incrementCart}
      />
    </div>
    <div>
      <table width="100%">
        <thead>
          <tr>
            <td>Animal Name</td>
            <td>Quantity</td>
            <td>Weight (grams)</td>
            <td>Color</td>
            <td>Gender</td>
            <td>Delete Row</td>
          </tr>
        </thead>
        <tbody>
          {props.cartData.map((values, count) => (
            <tr key={count}>
              <td>
                <ReactSelect
                  // label="Animal Name"
                  key={`${count}_${values.specie}`}
                  options={props.animalOptions}
                  name="animalSpecie"
                  onChange={e => props.selectSpecie(e, count)}
                  value={values.selectedSpecie}
                />
              </td>
              <td>
                <TextField
                  key={`${count}_${values.quantity}`}
                  defaultValue={values.quantity}
                  label="Number of Animals"
                  type="number"
                  name="quantity"
                  onBlur={e => props.textOnBlur(e, count)}
                />
                {values.quantityError ? (
                  <p style={{ color: 'red' }}>
                    Only{' '}
                    <span style={{ fontWeight: 'bold' }}>
                      {values.selectedSpecie.available}
                    </span>{' '}
                    {values.selectedSpecie.label}{' '}
                    <span style={{ fontWeight: 'bold' }}>Available</span>
                  </p>
                ) : (
                  ''
                )}
              </td>
              <td>
                <Row>
                  <Col lg={9} md={9} sm={9} className="np-left">
                    <TextField
                      key={`${count}_${values.weight}`}
                      defaultValue={values.weight}
                      label="Weight"
                      type="number"
                      name="weight"
                      onBlur={e => props.textOnBlur(e, count)}
                    />
                  </Col>
                  <Col
                    lg={3}
                    md={3}
                    sm={3}
                    className="np-left np-right"
                    style={{ paddingTop: '30px' }}
                  />
                </Row>
              </td>
              <td>
                <TextField
                  key={`${count}_${values.color}`}
                  defaultValue={values.color}
                  label="Color"
                  name="color"
                  onBlur={e => props.textOnBlur(e, count)}
                />
              </td>
              <td>
                <ReactSelect
                  // label="Gender"
                  key={`${count}_${values.specie}`}
                  options={genderOptions}
                  name="gender"
                  onChange={e => props.selectGender(e, count)}
                  value={values.selectedGender}
                />
                {values.genderError ? (
                  <p style={{ color: 'red' }}>
                    Only{' '}
                    <span style={{ fontWeight: 'bold' }}>
                      {values.selectedSpecie[values.selectedGender.value] || 0}
                    </span>{' '}
                    {values.selectedGender.label}{' '}
                    <span style={{ fontWeight: 'bold' }}>Available</span>
                  </p>
                ) : (
                  ''
                )}
              </td>
              <td className="text-center">
                <i
                  className="far fa-minus-square"
                  title="Remove"
                  onClick={() => props.decrementCart(count)}
                />
              </td>
            </tr>
          ))}
        </tbody>
      </table>
    </div>
  </div>
);
